(()=>{"use strict";(()=>{function t(t,e){return t.getContext("2d",e)}function e(t,e,i){t.clearRect(0,0,e,i)}const{log:i,error:s,table:n,time:o,timeEnd:a,timeStamp:r,timeLog:h,assert:c,clear:l,count:u,countReset:x,group:d,groupCollapsed:p,groupEnd:g,trace:f,profile:v,profileEnd:m,warn:w,debug:y,info:k,dir:b,dirxml:T}=console;function C(t,e){switch(e.toLowerCase().trim()){case"lowercase":return t.toLowerCase();case"uppercase":return t.toUpperCase();case"titlecase":{let e=t.split(" ");for(let t=0;t<e.length;t++){const i=e[t].substring(0,1).toUpperCase(),s=e[t].slice(1).toLowerCase();e[t]=i+s}return e=e.concat(),e.toString()}case"titlecase2":return t.substring(0,1).toUpperCase()+t.substring(1).toLowerCase();default:throw new Error("Formatting text error: unknown option passed in argument")}}function D(t,e){return t.split(e)}function S(t){let e=D(t,"-");for(let t=1;t<e.length;t++)e[t]=C(e[t],"titlecase");const i=e.join();return s=",",n="",i.replaceAll(s,n);var s,n}class _{constructor(t,e,i,s,n,o,a,r=0){this.context=t,this.width=e,this.height=i,this.originX=s,this.originY=n,this.color=o,this.x=this.originX,this.y=this.originY,this.gap=r,this.size=a-this.gap,this.vectorX=0,this.vectorY=0,this.mouseParticleDistanceX=0,this.mouseParticleDistanceY=0,this.mouseTotalDistance=0,this.force=0,this.angle=0,this.friction=.6*Math.random()+.15,this.ease=.2*Math.random()+.05}update(t,e,i=2e4){const{x:s,y:n}=this.context.canvas.getBoundingClientRect();this.mouseParticleDistanceX=t-this.x-s,this.mouseParticleDistanceY=e-this.y-n,this.mouseTotalDistance=Math.pow(this.mouseParticleDistanceX,2)+Math.pow(this.mouseParticleDistanceY,2);this.mouseTotalDistance<i&&(this.angle=Math.atan2(this.mouseParticleDistanceY,this.mouseParticleDistanceX),this.force=-1*i/this.mouseTotalDistance,this.vectorX=Math.cos(this.angle)*this.force,this.vectorY=Math.sin(this.angle)*this.force),this.vectorX*=this.friction,this.vectorY*=this.friction,this.x+=this.vectorX+(this.originX-this.x)*this.ease,this.y+=this.vectorY+(this.originY-this.y)*this.ease}draw(){this.context.fillStyle=this.color,this.context.fillRect(this.x,this.y,this.size,this.size)}}class Y{constructor(e,s,n,o,a,r="transparent",h,c){this.canvas=e,this.context=t(e),this.particlesArray=[],this.text=s;const l=0===this.text.length;i({hasNoLetters:l}),l||(this.textColor=n,this.fontSize=o,this.fontFamily=a,this.strokeColor=r,this.strokeWidth=h,this.pixelResolution=c,this.wrapText(),this.convertToPixels(this.pixelResolution))}drawTextToCanvas(){this.context.fillStyle=this.textColor,this.context.strokeStyle=this.strokeColor,this.context.font=`${this.fontSize}px ${this.fontFamily}`,this.textMetrics=this.context.measureText(this.text),this.textX=this.canvas.width/2-this.textMetrics.width/2,this.textY=this.canvas.height/2+this.fontSize/2,this.context.lineWidth=this.strokeWidth,this.context.fillText(this.text,this.textX,this.textY),this.context.strokeText(this.text,this.textX,this.textY),this.pixelsData=this.context.getImageData(0,0,this.canvas.width,this.canvas.height)}wrapText(t=this.canvas.width){this.context.fillStyle=this.textColor,this.context.strokeStyle=this.strokeColor,this.context.font=`${this.fontSize}px ${this.fontFamily}`,this.textMetrics=this.context.measureText(this.text),this.textX=this.canvas.width/2-this.textMetrics.width/2,this.textY=this.canvas.height/2,this.context.lineWidth=this.strokeWidth,this.context.textAlign="start";const e=D(this.text," ");let i="",s=0;const n=[];for(let o=0;o<e.length;o++){const a=i+e[o]+" ",r=this.context.measureText(a).width;r>t&&o>0?(this.textX=this.canvas.width/2-r/2,this.textY=this.canvas.height/2+this.fontSize/2,this.context.fillText(i,this.textX,this.textY),this.context.strokeText(i,this.textX,this.textY),i=e[o]+" ",this.textY+=this.fontSize,s++):i=a,n[s]=i}this.context.fillText(i,this.textX,this.textY),this.context.strokeText(i,this.textX,this.textY),this.pixelsData=this.context.getImageData(0,0,this.canvas.width,this.canvas.height)}animatePixels(t,e,i=2e4){for(const s of this.particlesArray)s.update(t,e,i),s.draw()}convertToPixels(t=1){e(this.context,this.canvas.width,this.canvas.height);for(let e=0;e<this.pixelsData.height;e+=t)for(let i=0;i<this.pixelsData.width;i+=t){const s=4*i+4*e*this.pixelsData.width;if(this.pixelsData.data[s+3]<10)continue;const n=this.pixelsData.data[s+0],o=this.pixelsData.data[s+1],a=this.pixelsData.data[s+2],r=`rgb(${n}, ${o}, ${a})`,h=new _(this.context,this.canvas.width,this.canvas.height,i,e,r,t,0);this.particlesArray.push(h)}}reset(){this.particlesArray=[]}}function X(t,e){var i;if(!e)return document.querySelector(t);return(null===(i=null==e?void 0:e.tagName)||void 0===i?void 0:i.includes("-"))?e.shadowRoot.querySelector(t):e.querySelector(t)}function A(t,e){if(!e)return Array.from(document.querySelectorAll(t));return e.tagName.includes("-")?Array.from(e.shadowRoot.querySelectorAll(t)):Array.from(e.querySelectorAll(t))}function L(t,e){return t.closest(e)}function E(t,e,i=document.body){const s=e.toString();return i.style.setProperty(t,s)}const M=[{key:"text",value:""},{key:"family",value:"Consolas"},{key:"fill",value:"white"},{key:"size",value:64},{key:"strokeColor",value:"transparent"},{key:"strokeWidth",value:1},{key:"pixelResolution",value:3}],P=X("canvas"),z=t(P,{willReadFrequently:!0}),R=X(".index__container"),N=new Map,W=new Map,q=X(".index__select"),F=A(".index__input:not(input#mouse-radius, input#text, input#canvas-background-checkbox)").concat(q),$=X("input#text"),I=X("input#mouse-radius"),U=X("input#pixel-resolution"),H=A(".index__input--color"),j=A(".index__input--checkbox:not(input#canvas-background-checkbox)"),B=X("input#canvas-background-checkbox");function G(t){i("Canvas input change");const e=t.currentTarget,s=X(".index__label:not(.index__label--checkbox)",L(e,".index__color-input-container")),n=X("span",s),o=n.innerText;E("--bg-canvas",e.checked?o:"transparent",P),i("Span: ",n.innerText)}function J(t){K(t);const e=Number(t.target.value);N.set("radius",e)}function K(t){const e=t.currentTarget;let i=Number(e.value);const s=(n=i,new Intl.NumberFormat(o,{maximumSignificantDigits:3}).format(n));var n,o;X("span",e.parentElement).textContent=s}function O(t){cancelAnimationFrame(Z),e(z,P.width,P.height),V.reset(),i("change!");const s=t.currentTarget,n=A("label",L(s,".index__color-input-container"));let o=S(s.name),a=isNaN(Number(s.value))?s.value:Number(s.value);if("checkbox"!==s.type)return W.set(o,a),it(),void et();const r=n[1],h=X("span",r);a=!s.checked?"transparent":h.innerText;var c;o=S((c=r,Array.from(c.children))[1].name),W.set(o,a),it(),et()}function Q(t){const e=t.currentTarget,i=A("label",L(e,".index__color-input-container"))[1],s=D(i.innerText,":")[0];let n=C(e.value,"uppercase");if(X(".index__label-span",i).textContent=n,E("--bg-input-color",n,e),"Canvas background"===s)E("--bg-input-color",n,e),E("--bg-canvas",n,P);else E("--bg-input-color",n,e)}!function(){$.addEventListener("input",O),I.addEventListener("input",J),U.addEventListener("input",K);for(const t of F)t.addEventListener("change",O);for(const t of j)t.addEventListener("change",O);B.addEventListener("change",G);for(const t of H)t.addEventListener("input",Q)}(),function(){for(const t of M){const{key:e,value:i}=t;W.set(e,i)}}();let V,Z=0;function tt(){P.width=R.clientWidth,P.height=R.clientHeight,it()}function et(){e(z,P.width,P.height),V.animatePixels(N.get("x"),N.get("y"),N.get("radius")),Z=requestAnimationFrame(et)}function it(){V=V=new Y(P,W.get("text"),W.get("fill"),W.get("size"),W.get("family"),W.get("strokeColor"),W.get("strokeWidth"),W.get("pixelResolution"))}P.width=R.clientWidth,P.height=R.clientHeight,tt(),window.addEventListener("resize",tt),P.addEventListener("mousemove",(function(t){N.set("x",t.x),N.set("y",t.y)})),it(),et()})()})();